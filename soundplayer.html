<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Sound Player</title>
    <script src='node_modules/howler/src/howler.core.js'></script>
    <script>const ws = new WebSocket(`ws://${location.host}`);</script>
    

    


<body>
    Sound Player Test
    <button onclick="playYeet()">Play</button>
    <button id="AudioContext"></button>
    <script> 
        //Test Function
        function playYeet()
        {
            var sound = new Howl({
                src: ['adlibs/yeet.mp3']
            });
            sound.play();
            console.log('playing');
            ws.send('Playing Yeet');
        }

        //Main Play sound Function
        function playSound(command)
        {
            if (command !== '!mute')
            {
                let file = command.replace('!','');
                file += '.mp3';
                var sound = new Howl(
                    {
                        src: [`adlibs/${file}`]
                    });
                sound.play();

                //Listen for Mute command to stop audioplayback when sounds are muted
                ws.addEventListener('message', function(event)
                {
                    if (event.data === '!mute')
                    {
                        sound.stop();
                        console.log('Client: Sounds Muted by Chat Bot, Playback Stopped');
                    }
                });
                console.log(`Playing ${file}`);
            }
            
        }
    </script>
    <script src='static/client.js'></script>
    
</body>
</head>
</html>